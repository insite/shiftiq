body {
    --in-portal-sidebar-compact-size-duration: 0.6s;
    --in-portal-sidebar-compact-opacity-duration: 0.3s;
}

main.portal-container .portal-sidebar .portal-sidebar-toggle {
    position: absolute;
    right: 0;
}

    main.portal-container .portal-sidebar .portal-sidebar-toggle > div {
        width: 40px;
        line-height: 40px;
        text-align: center;
        cursor: pointer;
    }

        main.portal-container .portal-sidebar .portal-sidebar-toggle > div > i {
            opacity: 0.25;
            transition: opacity 0.15s linear, transform var(--in-portal-sidebar-compact-opacity-duration) ease-in-out;
        }

        main.portal-container .portal-sidebar .portal-sidebar-toggle > div:hover > i {
            opacity: 1;
        }

@media (min-width: 992px) {
    main.portal-container .portal-sidebar .hide-height {
        max-height: 600px;
        max-width: 300px;
    }

    main.portal-container .portal-sidebar.portal-sidebar-compact {
        transition: min-width var(--in-portal-sidebar-compact-size-duration) ease-in-out;
    }

        main.portal-container .portal-sidebar.portal-sidebar-compact a.list-group-item > i.fas {
            line-height: 24px;
        }

        main.portal-container .portal-sidebar.portal-sidebar-compact .hide-compact,
        main.portal-container .portal-sidebar.portal-sidebar-compact a.list-group-item .badge-container {
            transition: opacity var(--in-portal-sidebar-compact-opacity-duration) linear;
        }

        main.portal-container .portal-sidebar.portal-sidebar-compact .hide-height {
            transform-origin: left center;
            transition: opacity var(--in-portal-sidebar-compact-opacity-duration) linear, max-height var(--in-portal-sidebar-compact-size-duration) ease-in-out, max-width var(--in-portal-sidebar-compact-size-duration) ease-in-out;
        }

        /* hiding */

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hiding .hide-compact,
        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hiding a.list-group-item .badge-container {
            opacity: 0;
        }

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hiding .hide-height {
            opacity: 0;
        }

        /* hidden */

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hidden .me-compact-0 {
            margin-right: 0 !important;
        }

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hidden .hide-compact {
            opacity: 0;
            max-height: 0;
            max-width: 0;
            overflow: hidden;
            position: absolute;
            margin: 0 !important;
            padding: 0 !important;
        }

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hidden .hide-height {
            opacity: 0;
            overflow: hidden;
        }

            main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hidden .hide-height > div {
                margin-left: -300px;
            }

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hidden a.list-group-item .badge-container {
            position: absolute;
            top: 0;
            right: 5px;
            opacity: 0;
            transition: opacity var(--in-portal-sidebar-compact-opacity-duration) linear;
        }

            main.portal-container .portal-sidebar.portal-sidebar-compact.compact-hidden a.list-group-item .badge-container .badge {
                --ar-badge-font-size: 0.65em;
            }

        /* compact-size */

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-size .hide-height {
            opacity: 0;
            max-height: 0;
            max-width: 0;
            overflow: hidden;
        }

            main.portal-container .portal-sidebar.portal-sidebar-compact.compact-size .hide-height > div {
                margin-left: -300px;
            }

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-size .portal-sidebar-toggle > div > i {
            transform: scaleX(-1);
        }

        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-size a.list-group-item .badge-container {
            position: absolute;
            top: 0;
            right: 5px;
            opacity: 1;
            transition: opacity var(--in-portal-sidebar-compact-opacity-duration) var(--in-portal-sidebar-compact-opacity-duration) linear;
        }

            main.portal-container .portal-sidebar.portal-sidebar-compact.compact-size a.list-group-item .badge-container .badge {
                --ar-badge-font-size: 0.65em;
            }
        main.portal-container .portal-sidebar.portal-sidebar-compact.compact-stop {
            transition: none;
        }
}
